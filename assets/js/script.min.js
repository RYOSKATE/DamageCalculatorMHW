function getFormData(e){for(var a=$(e),t=(a.serialize(),a.serializeArray()),m={},p=0;p<t.length;++p){var c=t[p];c.value?m[c.name]=Number(c.value):m[c.name]=0}return m}function updateExpectedDamage(e){var a="#form"+e,t=getFormData(a);expectedDamage=t.attackPower/t.weapon,expectedDamage*=1+.25*t.affinity/100,expectedDamage=Math.floor(expectedDamage);var m=Math.floor(t.elementalAttackPower/10);$("input[name=expectedDamage"+e+"]").val(expectedDamage),$("input[name=expectedElementalDamage"+e+"]").val(m)}$("form").change(function(){updateExpectedDamage(1),updateExpectedDamage(2),updateExpectedDamage(3)}),$("form").keyup(function(e){updateExpectedDamage(1),updateExpectedDamage(2),updateExpectedDamage(3)});